<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Gesti√≥n Usuarios
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-card>

    <ion-button expand="block" (click)="createTable()">
      Create Table
    </ion-button>

    <ion-button expand="block" (click)="getUsuario()">
      Listar Usuarios
    </ion-button>
  </ion-card>
  <ion-card>
    <ion-item-divider>
      <ion-input placeholder="Enter Id" [(ngModel)]="id_model"></ion-input>
    </ion-item-divider>

    <ion-item-divider>
      <ion-input placeholder="Enter Nombre" [(ngModel)]="nick_model"></ion-input>
    </ion-item-divider>
    
    <ion-item-divider>
      <ion-input placeholder="Enter Clave" [(ngModel)]="clave_model"></ion-input>
    </ion-item-divider>

    <ion-item-divider>
      <ion-input placeholder="Enter Permiso" [(ngModel)]="permiso_model"></ion-input>
    </ion-item-divider>

    <ion-item-divider>
      <ion-button (click)="getPicture()">
        Capture Image
      </ion-button>
      <ion-card>
        <img [src]="image" *ngIf="image">
      </ion-card>   
    </ion-item-divider>
  
    <ng-container *ngIf="updateActive; else elseTemplateUpdate">
      <ion-button expand="block" (click)="updateRow()" >
        Update Usuario
      </ion-button>
    </ng-container>

    <ng-template #elseTemplateUpdate>
      <ion-button expand="block" (click)="insertUser()">
        Insert Usuario
      </ion-button>
    </ng-template>

  </ion-card>

  <ion-grid>
    <ion-card *ngFor="let item of row_data">
      <ion-row>
        <ion-col size="5">Id:</ion-col>
        <ion-col size="7">{{item.id}}</ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="5">Nombre:</ion-col>
        <ion-col size="7">{{item.nick}}</ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="5">Clave:</ion-col>
        <ion-col size="7">{{item.clave}}</ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="5">Permiso:</ion-col>
        <ion-col size="7">{{item.permiso}}</ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="5">
          Imagen:
        </ion-col>
        <ion-col size="7">
          <ion-avatar>
            <img [src]="item.imagen">
          </ion-avatar>
        </ion-col>
        
      </ion-row>

      <ion-row>
        <ion-col size="6">
          <ion-button (click)="deleteRow(item)" size="small" color="danger">
            <ion-icon name="trash"></ion-icon>
          </ion-button>
        </ion-col>
        <ion-col size="6">
          <ion-button (click)="enableUpdate(item)" size="small" color="warning">
            <ion-icon name="create"></ion-icon>
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-card>


  </ion-grid>
</ion-content>